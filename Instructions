#Author: mrp4sten (Mauricio Pasten)

# This instructions can be used only in Arch linux based, like Manjaro, 
# EdeavourOS, Etc. But can not be used for Arch Linux because you need some 
# packages before this instructions.

# First packages 
sudo pacman -S git nano gedit wget

# Install paru for AUR helper
sudo pacman -S --needed base-devel
git clone https://aur.archlinux.org/paru.git && cd paru && makepkg -si

# Install Kitty terminal
sudo pacman -S kitty

# Download my favorite Nerd Font
cd /usr/share/fonts
sudo wget https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/Hack.zip
sudo unzip Hack.zip
sudo rm Hack.zip

# Clone my repository

# Configuration Kitty
cp dotfiles/.config/kitty ~/.config/

# Installing zsh and plugins
sudo pacman -S zsh zsh-syntax-highlighting zsh-autosuggestions lsd bat exa mdcat

# Installing oh-my-zsh
sh -c "$(wget https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -)"

# Installing powerlevel10k
git clone --depth=1 https://github.com/romkatv/powerlevel10k.git ~/powerlevel10k
echo 'source ~/powerlevel10k/powerlevel10k.zsh-theme' >>~/.zshrc

# Install fzf
git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
~/.fzf/install

# Copy my personal zsh configuration
cp dotfiles/.zshrc .
cp dotfiles/.p10k.zsh .

# Install my favorite minimal browser
paru -S min # Note: paru command dont need "sudo"

# Some dependencies
paru -Sy awesome-git picom-git alacritty rofi todo-bin acpi acpid \
wireless_tools jq inotify-tools polkit-gnome xdotool xclip maim \
brightnessctl alsa-utils alsa-tools lm_sensors pulseaudio \
mpd mpc mpdris2 ncmpcpp playerctl feh spotify --needed

# Services
# For automatically launching mpd on login
systemctl --user enable mpd.service
systemctl --user start mpd.service

# For charger plug/unplug events (if you have a battery)
sudo systemctl enable acpid.service
sudo systemctl start acpid.service

# Fonts
cd /usr/share/fonts
sudo wget http://fontlot.com/downfile/5baeb08d06494fc84dbe36210f6f0ad5.105610

# Rename downloaded archive
sudo mv 5baeb08d06494fc84dbe36210f6f0ad5.105610 fonts.zip 

# Uncompress fonts.zip
sudo unzip fonts.zip 

# Delete fonts.zip
sudo rm fonts.zip

# Moving fonts into workspace correctly
find . | grep "\.ttf$" | while read line; do sudo cp $line .; done 

# Removing unnesesary directory
sudo rm -rf iosevka-2.2.1/ iosevka-slab-2.2.1/

# Download de following archive
# https://www.dropbox.com/s/hrkub2yo9iapljz/icomoon.zip?dl=0

# Assuming that you're in /usr/share/fonts and your user is not root
sudo mv ~/Downloads/icomoon.zip .
sudo unzip icomoon.zip
sudo mv icomoon/*.ttf .
sudo rm -rf icomoon

# Create bin direcotry into .local like...
mkdir ~/.local/bin 

# Configure your wallpaper in like this lines in the end 
# of ~/.config/awesome/rc.lua 
local_wallpaper_cmd="feh --bg-fill path/your/wallpaper/image.jpg"
os.execute(local_wallpaper_cmd)
